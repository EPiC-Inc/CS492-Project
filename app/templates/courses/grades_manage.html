{% extends "base.html" %}

{% block title %}Manage Grades & Attendance{% endblock %}

{% block body %}
<h1>Manage Grades</h1>
<div id="grades_manage_container">
    <div class="on-left">
            <h2>
            Select Student
            </h2>
                <div>
                    <select name="student-list" id="student-list" class=" dropdown" autocomplete="off">
                        <option disabled {{ "selected" if not current_professor else "" }} value=""> -- Select Student -- </option>
                        <optgroup label="Students:">
                            {% for first_name, last_name, id in students %}
                            <option value="{{ id }}" {{ "selected" if current_professor == id else "" }}>{{ last_name }}, {{ first_name }}</option>
                            {% endfor %}
                        </optgroup>
                    </select>
                </div>
                    <h2>
                    Select Class
                    </h2>
                        <div>
                            <select name="course-select" id="course-select" class="dropdown" autocomplete="off">
                                <option disabled {{ "selected" if not chosen_class else "" }} value=""> -- Select Class -- </option>
                                <optgroup label="Class:">
                                    {% for class_id, class_code in courses %}
                                    <option value="{{ class_id }}" {{ "selected" if class_id == chosen_class else "" }}>{{ class_code }}</option>
                                    {% endfor %}
                                </optgroup>
                            </select>
                        </div>
    </div>
    <div class="=grades_manage_container">
        <form onsubmit="submitGrade(); return false;">
            <label for="assignment" class="label">Assignment</label>
            <select name="assignment-select" id="assignment-select" class="dropdown" autocomplete="off">
                <option disabled {{ "selected" if not chosen_assignment else "" }} value=""> -- Select Assignment -- </option>
                <option value="0">Discussion Board</option>
                <option value="1">Document</option>
                <option value="2">Code</option>
            </select>
            <label for="score" class="label">Score</label>
            <input id="score" class="textbox-input-long">
            <label for="grade" class="label">Grade</label>
            <input id="grade" class="textbox-input-long">
            <label for="date" class="label">Select Date</label>
            <input id="date" type="date" class="textbox-input-long">
            <label for="present" class="label">Present</label>
            <input id="present" name="present" type="checkbox">
            <label for="feedback"></label>
            <textarea id="feedback" name="feedback" style="resize: vertical;"></textarea>
            <br>
            <div>
                <button type="submit" class="btn btn-primary">Submit</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    function submitGrade() {
        fetch("{{ url_for('api.authenticate_and_set_student_assignment_grade') }}", {
            method: "POST",
            body: JSON.stringify({
                'student': document.getElementById('')
            })
        });
    }
</script>
{% endblock %}